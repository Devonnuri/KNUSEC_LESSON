# 리눅스 프로그래밍
## 리눅스 디렉토리 구조
* /
    * root : 최상위 디렉토리 [혹은 root의 홈 디렉토리]
    * root아래의 각 디렉토리에 시스템 전체에 관련된 파일들 존재
* /home/user1
    * 각 사용자의 홈 디렉토리
    * /home 디렉토리 아래에 각 사용자의 이름으로 디렉토리가 존재
    * 각 사용자는 자신의 파일을 자신의 홈 디렉토리 아래에 두는 것이 원칙

## 명령어
### cd
```
사용법: cd [디렉토리 이름]

Change Directory의 약자로 해당 디렉토리로 들어갈 수 있다.
```
### pwd
```
Print working directory의 약자로, 현재 디렉토리의 경로를 보여준다.
```

### mkdir
```
사용법: mkdir [디렉토리 이름]

Make Directory의 약자로 주어진 이름의 빈 디렉토리를 만든다.
```

### rmdir
```
사용법: rmdir [디렉토리 이름]

Remove Directory의 약자로, "빈" 디렉토리를 삭제한다.

cf. 비지 않은 디렉토리를 삭제하려면 rm -r 을 사용한다.
```

### touch
```
0 Byte 짜리 파일을 만들수 있다.
```

### cp
```
사용법: cp [복사할 원본파일] [복사할 대상]

Copy의 약자로 파일이나 디렉토리를 복사한다.

cf. 디렉토리를 복사하려면 cp -r [원본] [대상]

```

### mv
```
사용법: mv [이동할 파일] [이동될 이름/디렉토리]

Move의 약자로 해당 파일을 다른 디렉토리로 이동한다.

이름을 바꿀때도 사용될 수 있다.
```

### rm
```
사용법: rm [지울 파일]

Remove의 약자로 파일이나 디렉토리를 삭제한다.

디렉토리의 경우 rm -r [디렉토리]
```

### clear
```
현재 표시된 화면을 지운다.
```

### man
```
사용법: man [명령어]

Mannual의 약자로 해당 명령어에 대한 설명을 출력한다.
```

### cat
```
사용법: cat [명령어]

Concatenate의 약자로 파일의 내용을 화면에 출력한다.
```

## 실습 1
* 홈 디렉토리에 `test1`, `test2`, `test3` 세개의 디렉토리를 생성한다.
* test1 디렉토리 안에 `a.txt`, `b.txt` 두개의 파일을 생성한다.
* `a.txt` 파일을 `c.txt` 파일로 변경 후 `test3` 디렉토리로 이동한다.
* `b.txt` 파일을 `test2` 디렉토리에 복사한다
* 생성한 모든 파일과 디렉토리를 삭제한다. (??)

* Tip
    * 명령어 혹은 파일이름 타이핑 시 tap을 누르면 자동 완성이 된다. (같은 문자로 시작하는 게 두개 이상있을 시에는 동작 안한다)
    * 리눅스 명령어는 항상 대소문자를 구분한다.

## 파일 묶음(tar)
### 파일 묶기
```
tar cvf [묶게될 파일명] [묶을 파일/디렉토리]
```

### 파일 풀기
```
tar xvf [풀을 파일명]
```

## 파일 검색
### find
* 옵션, `-name`, `-user`, `-perm`, `-size`, `-newer`
* 액션, `-print`(기본), `-exec`

### which
PATH에 설정된 디렉터리만 검색, 절대 경로 검색

### whereis
실행파일 및 소스, man 페이지 파일 검색

### locate
해당 이름을 가진 파일 및 디렉터리 모두 검색

## ~~고나리자~~ 관리자와 사용자
* 리눅스는 여러 사용자의 동시 접속이 가능한 시스템
* root: 하나의 root만 존재한다.
* 사용자: 제한이 없으며 추가, 삭제, 권한 변경 등이 가능
* 일반 명령어: 모든 사용자가 사용 가능
* 관리자 명령어: 사용하기 위해서는 관리자 권한 필요
### 관리자 명령어를 사용하는 방법
#### sudo 명령어
```
사용법: sudo [명령어]

권한이 있는 사용자만 가능(default user로는 가능)
```
#### su 명령어
Switch User의 약자로, 다른 사용자 또는 root 계정으로 전환한다.

## 사용자 관리
### 등록 사용자 확인
* `/etc/passwd`에 사용자 정보가 있음
* 형식: `사용자이름:암호:사용자ID:소속 그룹ID:추가정보:홈 디렉토리:기본 쉘`

### 사용자 계정 추가
* `adduser [사용자 이름]`
* `userdel [사용자 계정]`: 계정만 삭제, 홈 디렉토리는 삭제 안함 (-r: 홈 디렉토리도 삭제)
* `usermod [무엇을] [어떻게] [사용자]`: 계정의 속성을 변경
    * 예) usermod --shell /bin/csh newuser

### 사용자 그룹 관리
* 개별 사용자가 아닌 그룹 단위를 관리 가능
* `groups`: 사용자의 그룹을 보여줌
* `groupadd`: 그룹 추가
* `groupmod`: 그룹 속성 수정
* `groupdel`: 그룹 삭제
* `gpasswd`: 그룹 패스워드 설정

## 파일 속성
* 리눅스는 각각의 파일과 디렉터리 마다 소유권, 허가권이 존재
* 파일 속성을 통해 확인이 가능

| - | rw-rw-r-- | 2 | psh | psh | 11 | 1월 15 21:30 | hard_link |
| --- | --- | --- | --- | --- | --- | --- | --- |
| 파일 유형 | 파일 허가권 | 링크 수 | 소유자 이름 | 소유자 그룹 | 파일 크기 | 마지막 변경 날짜/시간 | 파일 이름 |

* 파일 유형
    * \- : 일반 파일
    * d : 디렉토리
* 파일 허가권
    * r: 읽기
    * w: 쓰기
    * x: 실행
* 파일 허가권 변경
    * `chmod [허가권] [파일 이름]`: 파일에 권한 부여

## 패키지 관리
### apt-get
우분투, 데비안 계열에서만 사용 가능

리눅스에 설정된 패키지 서버를 통해 자동으로 해당 패키지 다운로드

의존성 있는 패키지를 자동으로 먼저 다운로드 및 설치

* `apt-get install [패키지 이름]`: 설치하기 위한 패키지 다운 및 설치
* `apt-get update`: 패키지 목록 업데이트
* `apt-get remove`: 패키지 제거
* `apt-get purge [패키지 이름]`: 설정파일 포함, 패키지 제거
* `apt-get autoremove`: 사용하지 않는 패키지를 모두 제거
* `apt-get clean` 또는 `autoclean`: 다운로드 파일 및 과거의 파일을 제거

## 텍스트 에디터 (vim)
### 시작하기
* `vim [파일이름]`
    * 해당 파일이 있는 경우 새 파일 생성, 파일이 있는 경우 파일 열음

### 동작 모드
* 명령 모드
    * 커서 이동, 페이지 이동, 행 삭제, 복사, 저장, 종료등의 명령 수행
    * 키보드 입력을 명령으로 처리
* 입력 모드
    * 실제로 내용을 입력
    * 키보드 입력을 텍스트 내용 입력으로 처리

### 종료하기
* 명령 모드에서 저장 및 종료 가능
    * `:q`: 작업한 것이 없을때 그냥 종료
    * `:q!`: 작업 내용을 저장하지 않고 종료
    * `:w`: 작업한 내용을 종료하지 않고 저장
    * `:wq`: 작업한 내용을 저장하고 종료

### 입력 모드 전환
* 명령 모드에서 입력 모드로 전환하기
* 명령 키 중 어떤 것을 사용해서 입력 모드로 전환
* `i` - 현재 커서 자리에서 입력 시작
* `a` - 현재 커서 다음 자리에서 입력 시작
* `o` - 현재 커서 다음 줄에서 입력 시작
* `I` - 커서 위치 줄의 처음으로 이동하여 입력 시작
* `A` - 커서 위치 줄의 마지막으로 이동하여 입력 시작
* `O` - 커서 위치 줄의 윗줄로 이동하여 입력 시작

### 커서 이동하기
h, j, k, l로 커서를 이동할 수 있으나, vim에서는 화살표 키, Home, End, Page up, Page down도 사용이 가능하다.

### 원하는 줄로 바로 이동하기
* 명령 모드에서 `[숫자]G` 혹은 `:[숫자]`
    * 예) `:55`, `55G` : 55번째 줄로 커서 이동

### 줄단위 편집
* 한번에 여러 줄을 삭제하거나 복사할때 사용
* 명령모드에서 실행
* `dd`: 커서 위치의 한 줄을 삭제(잘라내기)
* `[숫자]dd`: 커서 위치의 `[숫자]` 줄을 삭제(잘라내기)
* `D`: 커서 위치부터 끝까지 삭제(잘라내기)
* `yy`: 커서 위치부터 한 줄을 복사
* `[숫자]yy`: 커서 위치부터 `[숫자]` 줄을 복사
* `Y`: 커서 위치부터 마지막 줄까지 복사
* `p`: 커서 위치의 다음 줄에 붙이기
* `P`: 커서 위치의 윗줄에 붙이기

### 검색
* 검색 명령어 명령 모드에서 실행
    * `/검색어`: 아래방향으로 검색
    * `?검색어`: 위방향으로 검색
    * `n`: 검색 명령어 입력 후 원래 방향으로 계속 검색
    * `N`: 검색 명령어 입력 후 반대 방향으로 계속 검색

## 간단한 C 프로그래밍
* gcc: C 컴파일러
    * `gcc [소스파일]`로 c파일을 컴파일 한다.

## 실습 2
* vim으로 간단한 c 프로그램을 작성한다.
* gcc로 컴파일해서 실행 파일을 만든다.
* gcc가 없는 경우 `apt-get`을 이용하여 설치하자.